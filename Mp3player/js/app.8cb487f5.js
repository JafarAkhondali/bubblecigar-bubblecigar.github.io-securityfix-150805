(function(t){function e(e){for(var n,o,r=e[0],c=e[1],u=e[2],d=0,h=[];d<r.length;d++)o=r[d],i[o]&&h.push(i[o][0]),i[o]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);l&&l(e);while(h.length)h.shift()();return a.push.apply(a,u||[]),s()}function s(){for(var t,e=0;e<a.length;e++){for(var s=a[e],n=!0,r=1;r<s.length;r++){var c=s[r];0!==i[c]&&(n=!1)}n&&(a.splice(e--,1),t=o(o.s=s[0]))}return t}var n={},i={app:0},a=[];function o(e){if(n[e])return n[e].exports;var s=n[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,o),s.l=!0,s.exports}o.m=t,o.c=n,o.d=function(t,e,s){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(o.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(s,n,function(e){return t[e]}.bind(null,n));return s},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/Mp3player/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var u=0;u<r.length;u++)e(r[u]);var l=c;a.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"034f":function(t,e,s){"use strict";var n=s("64a9"),i=s.n(n);i.a},2135:function(t,e,s){},"25fb":function(t,e,s){"use strict";var n=s("4c21"),i=s.n(n);i.a},3376:function(t,e,s){"use strict";var n=s("373c"),i=s.n(n);i.a},"373c":function(t,e,s){},"38c0":function(t,e,s){"use strict";var n=s("b20e"),i=s.n(n);i.a},"4c21":function(t,e,s){},"56d7":function(t,e,s){"use strict";s.r(e);s("cadf"),s("551c"),s("f751"),s("097d");var n=s("2b0e"),i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("SearchLog"),s("SongCard"),s("AudioControls")],1)},a=[],o=(s("5118"),{}),r=o,c=(s("034f"),s("2877")),u=Object(c["a"])(r,i,a,!1,null,null,null),l=u.exports,d=s("6ee6"),h=s("2f62"),f=s("bc3a"),p=s.n(f);n["a"].use(h["a"]);var m="https://deezerdevs-deezer.p.rapidapi.com/",g=p.a.create({baseURL:m,withCredentials:!1,headers:{Accept:"application/json","Content-Type":"application/json","x-rapidapi-host":"deezerdevs-deezer.p.rapidapi.com","x-rapidapi-key":"6cd836535cmshdbf7a9ffa1c7eabp19e82bjsne539f53f3220"}}),v=new h["a"].Store({state:{songs:[],songIndex:0,totalSongs:0,volume:1,duration:1,current:0,keywords:""},mutations:{SET_KEYWORDS:function(t,e){Object(d["a"])(t),this.state.keywords=e},SET_SONGS:function(t,e){t.state;this.state.songs=e},SET_SONG:function(t,e){t.state;this.state.song=this.state.songs[e]},ADD_SONG_INDEX:function(t){Object(d["a"])(t),this.state.songIndex++},MINUS_SONG_INDEX:function(){this.state.songIndex--},RESET_SONG_INDEX:function(t){Object(d["a"])(t),this.state.songIndex=0},SET_SONG_INDEX:function(t,e){Object(d["a"])(t),this.state.songIndex=e},SET_TOTAL_SONGS:function(t,e){t.state;this.state.totalSongs=e},SET_VOLUME:function(t,e){t.state;this.state.volume=e},SET_DURATION:function(t,e){t.state;this.state.duration=e},SET_CURRENT:function(t,e){t.state;this.state.current=e}},actions:{searchSongs:function(t,e){var s=this;Object(d["a"])(t);var n=e.keywords,i=e.index;this.commit("RESET_SONG_INDEX"),this.commit("SET_KEYWORDS",n),g.get("search?q=".concat(n,"&index=").concat(i)).then(function(t){s.commit("SET_SONGS",t.data.data),s.commit("SET_TOTAL_SONGS",t.data.total)}).catch(function(t){console.log(t)})},selectSong:function(t,e){Object(d["a"])(t),this.commit("SET_SONG_INDEX",e)},nextSong:function(t){Object(d["a"])(t),this.state.songIndex===this.state.songs.length-1?this.commit("RESET_SONG_INDEX"):this.commit("ADD_SONG_INDEX")},prevSong:function(t){Object(d["a"])(t),0===this.state.songIndex?this.commit("SET_SONG_INDEX",this.state.songs.length-1):this.commit("MINUS_SONG_INDEX")},randomSong:function(t){Object(d["a"])(t);var e=Math.floor(Math.random()*this.state.songs.length);this.commit("SET_SONG_INDEX",e)}}}),b=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.isReady?s("div",{staticClass:"song-card"},[s("div",{staticClass:"info",on:{click:t.toggleSelect}},[s("img",{class:{hide:"artist"===t.select},attrs:{src:t.artist.picture_xl}}),s("img",{class:{hide:"album"===t.select},attrs:{src:t.album.cover_xl}}),s("span",{staticClass:"label"},[s("i",{staticClass:"artist",class:{hide:"artist"===t.select}},[t._v("artist")]),s("i",{staticClass:"album",class:{hide:"album"===t.select}},[t._v("album")])]),s("h3",{staticClass:"artist",class:{hide:"artist"===t.select}},[t._v(t._s(t.artist.name))]),s("h3",{staticClass:"album",class:{hide:"album"===t.select}},[t._v(t._s(t.album.title))])]),s("h1",[t._v(t._s(t.title))])]):t._e()},_=[],S={data:function(){return{select:"artist"}},methods:{toggleSelect:function(){"artist"===this.select?this.select="album":this.select="artist"}},computed:{songIndex:function(){return this.$store.state.songIndex},album:function(){return this.song.album},song:function(){return this.$store.state.songs[this.songIndex]},title:function(){return this.song.title},artist:function(){return this.song.artist},isReady:function(){return!!this.song}},created:function(){}},y=S,w=(s("b47e"),Object(c["a"])(y,b,_,!1,null,"3e659868",null)),E=w.exports,x=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"position-wrapper audio-controls"},[s("div",{staticClass:"customized-control",class:{fold:t.fold}},[s("audio",{attrs:{src:t.song.preview,id:"main-audio",loop:t.loop}}),s("div",{staticClass:"wrapper-btns"},[s("Button_Big",{nativeOn:{click:function(e){return t.playOrPause(e)}}},[s("i",{staticClass:"fas fa-pause",class:{hide:t.isPaused}}),s("i",{staticClass:"fas fa-play",class:{hide:!t.isPaused}})]),s("Button_Medium",{attrs:{left:t.calcLeft("-10% - 70px"),lr:!1},nativeOn:{click:function(e){return t.prevSong(e)}}},[s("i",{staticClass:"fas fa-backward"})]),s("Button_Medium",{attrs:{left:t.calcLeft("10% + 70px")},nativeOn:{click:function(e){return t.nextSong(e)}}},[s("i",{staticClass:"fas fa-forward"})])],1),s("div",{staticClass:"wrapper-vol-controler flex-row"},[s("ControlBar",{attrs:{bindAttri:"volume",barWidth:80,unit:"vw",id:"volume-bar",label_lr:!0}},[s("Button_Small",{attrs:{slot:"before"},nativeOn:{click:function(e){return t.mute(e)}},slot:"before"},[t.isMuted?s("i",{staticClass:"fas fa-volume-mute"}):t._e(),t.isMuted?t._e():s("i",{staticClass:"fas fa-volume-up"})])],1)],1),s("div",{staticClass:"wrapper-pro-controler flex-row"},[s("ControlBar",{attrs:{bindAttri:"current",barWidth:80,unit:"vw",id:"progress-bar",label_lr:!1}},[s("Button_Small",{attrs:{slot:"after",eventName:"switchMode"},on:{switchMode:t.switchMode},slot:"after"},["loop"===t.playeMode?s("i",{staticClass:"fas fa-infinity"}):t._e(),"stop"===t.playeMode?s("i",{staticClass:"fas fa-ban"}):t._e(),"next"===t.playeMode?s("i",{staticClass:"fas fa-long-arrow-alt-right"}):t._e(),"random"===t.playeMode?s("i",{staticClass:"fas fa-dice"}):t._e()])],1)],1),s("div",{staticClass:"shadowBlocker",on:{click:function(e){t.fold=!t.fold}}})])])},O=[],C=(s("6762"),s("2fdb"),s("ac6a"),{data:function(){return{audio:void 0,isPaused:void 0,isMuted:void 0,canplay:!1,toNextSong:!1,hide:!0,fold:!0,playeMode:"loop"}},computed:{loop:function(){return"loop"===this.playeMode},songs:function(){return this.$store.state.songs},songIndex:function(){return this.$store.state.songIndex},song:function(){return this.songs[this.songIndex]?this.songs[this.songIndex]:{}},volume:function(){return this.$store.state.volume},current:function(){return this.$store.state.current},duration:function(){return this.$store.state.duration}},watch:{volume:function(){this.audio.volume=this.volume},current:function(){Math.abs(this.current*this.duration-this.audio.currentTime)>.05&&(this.audio.currentTime=this.current*this.duration)},song:function(){this.initialize()}},methods:{calcLeft:function(t){return"calc(50% + ".concat(t,")")},playOrPause:function(){this.isPaused?this.play():this.pause()},nextSong:function(){this.$store.dispatch("nextSong")},prevSong:function(){this.$store.dispatch("prevSong")},switchMode:function(){switch(this.playeMode){case"stop":this.playeMode="loop",this.audio.loop=!0;break;case"loop":this.playeMode="next",this.audio.loop=!1;break;case"next":this.playeMode="random",this.audio.loop=!1;break;case"random":this.playeMode="stop",this.audio.loop=!1;break}},initialize:function(){var t=this;this.isPaused=!0,this.audio.oncanplay=function(){t.$store.commit("SET_DURATION",t.audio.duration)}},mute:function(){this.audio.muted=!this.audio.muted,this.isMuted=!this.isMuted},play:function(){this.audio.play()},pause:function(){this.audio.pause()},updateCurrent:function(){this.$store.commit("SET_CURRENT",this.audio.currentTime/this.$store.state.duration)}},created:function(){var t=this;document.querySelector("body").addEventListener("click",function(e){var s=0;e.path.forEach(function(t){t.className&&t.className.includes("audio-controls")&&s++}),0===s&&(t.fold=!0)})},mounted:function(){var t=this,e=document.querySelector("#main-audio");this.audio=e,this.isPaused=e.paused,this.isMuted=e.muted,this.audio.addEventListener("canplay",function(){t.$store.commit("SET_DURATION",t.audio.duration),t.audio.autoplay=!0,t.hide=!1}),this.$store.commit("SET_VOLUME",this.audio.volume),this.audio.addEventListener("timeupdate",function(){t.canplay=!0,t.updateCurrent()}),this.audio.addEventListener("play",function(){t.isPaused=!1}),this.audio.addEventListener("pause",function(){t.isPaused=!0}),this.audio.addEventListener("ended",function(){"next"===t.playeMode?t.$store.dispatch("nextSong"):"random"===t.playeMode&&t.$store.dispatch("randomSong")})}}),k=C,M=(s("995f"),Object(c["a"])(k,x,O,!1,null,"2023e3a4",null)),N=M.exports,T=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"position-wrapper",class:{left:!t.label_lr,right:t.label_lr}},[s("div",{staticClass:"before"},[t._t("before")],2),s("div",{staticClass:"after"},[t._t("after")],2),s("div",{staticClass:"container",style:t.containerStyle,attrs:{id:t.id},on:{mousemove:t.drag,mousedown:t.blink}},[s("div",{staticClass:"filled",style:t.filledStyle})])])},$=[],I=s("bd86"),j=(s("c5f6"),Object(I["a"])({props:{bindAttri:{type:String,required:!0},barWidth:{type:Number,required:!1,default:150},unit:{type:String,required:!1,default:"px"},id:{type:String,required:!0},label_lr:{type:Boolean,required:!1,default:!0},flyIcon:{type:String,required:!1,default:"<i>hi</i>"}},methods:{flyIcon:function(){var t=this.flyIcon;return"<i>".concat(t,"</i>")}},data:function(){return{barDOM:void 0,_barWidth:this.barWidth}},computed:{percentage:function(){return this.$store.state[this.bindAttri]},filledStyle:function(){return{width:"".concat(this.percentage*this._barWidth,"px")}},containerStyle:function(){return{width:"".concat(this.barWidth).concat(this.unit)}}},mounted:function(){this.barDOM=document.querySelector("#".concat(this.id)),this.checkElementWidth()}},"methods",{checkElementWidth:function(){var t=this;this.barDOM.clientWidth!=this._barWidth&&(this._barWidth=this.barDOM.clientWidth),window.requestAnimationFrame(function(){t.checkElementWidth()})},drag:function(t){if(1===t.buttons){var e=t.offsetX/this._barWidth;e>1&&(e=1),e<0&&(e=0),this.$store.commit("SET_".concat(this.bindAttri.toUpperCase()),e)}},blink:function(t){var e=t.offsetX/this._barWidth;e>1&&(e=1),e<0&&(e=0),this.$store.commit("SET_".concat(this.bindAttri.toUpperCase()),e)}})),D=j,P=(s("69c1"),Object(c["a"])(D,T,$,!1,null,"adc50c0e",null)),L=P.exports,B=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"search-log",class:{fold:!t.showMenu},on:{click:t.openMenu}},[s("ul",{staticClass:"menu search-menu"},[s("div",{staticClass:"wrapper-page"},[s("span",{staticClass:"result"},[t._v("\n        "+t._s(t.searchingKeywords)+"\n        "),s("i",{staticClass:"fas fa-long-arrow-alt-right"}),t._v("\n        "+t._s(t.totalSongs)+" results\n      ")]),s("button",{class:{disable:t.page<=0},on:{click:t.prevPage}},[s("i",{staticClass:"fas fa-caret-left"})]),s("span",[t._v("page "+t._s(t.page+1))]),s("button",{class:{disable:25*(t.page+1)>t.totalSongs},on:{click:t.nextPage}},[s("i",{staticClass:"fas fa-caret-right"})])]),s("div",{staticClass:"wrapper-li"},t._l(t.songList,function(e,n){return s("li",{key:n,staticClass:"option",class:{selected:t.isSelected(n)},on:{click:function(e){return t.select(n)}}},[t._v(t._s(e.title))])}),0)]),s("div",{staticClass:"wrapper-functions"},[s("h1",[t._v("DeezerPreview")]),s("div",{staticClass:"wrapper-search"},[s("button",{staticClass:"search-btn",on:{click:t.search}},[s("i",{staticClass:"fas fa-search"})]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.keywords,expression:"keywords"}],attrs:{type:"text",placeholder:":keywords"},domProps:{value:t.keywords},on:{keydown:t.keydown,input:function(e){e.target.composing||(t.keywords=e.target.value)}}})])])])},W=[],q=(s("386d"),{data:function(){return{keywords:"",songIndex:0,page:0,showMenu:!1}},created:function(){var t=this;document.querySelector("body").addEventListener("click",function(e){var s=0;e.path.forEach(function(t){t.className&&t.className.includes("search-log")&&s++}),0===s&&(t.showMenu=!1)})},mounted:function(){this.keywords="the muffin song",this.search()},methods:{openMenu:function(){this.showMenu=!0},keydown:function(t){13===t.keyCode&&this.search()},toggleMenu:function(){this.showMenu=!this.showMenu},nextPage:function(){25*(this.page+1)>this.totalSongs||(this.page++,this.$store.dispatch("searchSongs",{keywords:this.keywords,index:25*this.page}))},prevPage:function(){this.page<=0||(this.page--,this.$store.dispatch("searchSongs",{keywords:this.keywords,index:25*this.page}))},search:function(){0!==this.keywords.length?(this.page=0,this.$store.dispatch("searchSongs",{keywords:this.keywords,index:25*this.page})):console.log("please enter keywords")},isSelected:function(t){return this.$store.state.songIndex===t},select:function(t){this.songIndex=t,this.$store.dispatch("selectSong",this.songIndex)}},computed:{searchingKeywords:function(){return this.$store.state.keywords},songList:function(){return this.$store.state.songs},totalSongs:function(){return this.$store.state.totalSongs}}}),A=q,G=(s("3376"),Object(c["a"])(A,B,W,!1,null,"3be5f236",null)),R=G.exports,X=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"button-big scheme-color"},[t._t("default")],2)},U=[],z={},K=z,J=(s("38c0"),Object(c["a"])(K,X,U,!1,null,"1616338c",null)),V=J.exports,Y=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"button-medium scheme-color",class:{"border-right":t.lr,"border-left":!t.lr},style:{left:t.left}},[t._t("default")],2)},F=[],H={props:{left:{type:String,required:!1,default:"0%"},lr:{type:Boolean,required:!1,default:!0}}},Q=H,Z=(s("25fb"),Object(c["a"])(Q,Y,F,!1,null,"595afbe6",null)),tt=Z.exports,et=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"button-small scheme-color",on:{click:t.emit}},[t._t("default")],2)},st=[],nt={props:{eventName:{type:String,required:!1,default:"n"}},methods:{emit:function(){this.$emit(this.eventName)}}},it=nt,at=(s("fa15"),Object(c["a"])(it,et,st,!1,null,"fdb3d080",null)),ot=at.exports,rt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"button-cloud scheme-color",style:{"z-index":t.z}},[t._t("default")],2)},ct=[],ut={props:{z:{type:Number,required:!1,default:0},lr:{type:Boolean,required:!1,default:!0}}},lt=ut,dt=(s("681c"),Object(c["a"])(lt,rt,ct,!1,null,"d4b2bfea",null)),ht=dt.exports;n["a"].config.productionTip=!1,n["a"].component("SongCard",E),n["a"].component("AudioControls",N),n["a"].component("ControlBar",L),n["a"].component("SearchLog",R),n["a"].component("Button_Big",V),n["a"].component("Button_Medium",tt),n["a"].component("Button_Small",ot),n["a"].component("Button_Cloud",ht),new n["a"]({store:v,render:function(t){return t(l)}}).$mount("#app")},"64a9":function(t,e,s){},6511:function(t,e,s){},"681c":function(t,e,s){"use strict";var n=s("2135"),i=s.n(n);i.a},"69c1":function(t,e,s){"use strict";var n=s("b201"),i=s.n(n);i.a},"995f":function(t,e,s){"use strict";var n=s("c22f"),i=s.n(n);i.a},b201:function(t,e,s){},b20e:function(t,e,s){},b47e:function(t,e,s){"use strict";var n=s("d64f"),i=s.n(n);i.a},c22f:function(t,e,s){},d64f:function(t,e,s){},fa15:function(t,e,s){"use strict";var n=s("6511"),i=s.n(n);i.a}});
//# sourceMappingURL=app.8cb487f5.js.map