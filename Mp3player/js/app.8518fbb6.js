(function(t){function e(e){for(var i,a,r=e[0],c=e[1],u=e[2],l=0,p=[];l<r.length;l++)a=r[l],s[a]&&p.push(s[a][0]),s[a]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);d&&d(e);while(p.length)p.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],i=!0,r=1;r<n.length;r++){var c=n[r];0!==s[c]&&(i=!1)}i&&(o.splice(e--,1),t=a(a.s=n[0]))}return t}var i={},s={app:0},o=[];function a(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=t,a.c=i,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)a.d(n,i,function(e){return t[e]}.bind(null,i));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/Mp3player/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var u=0;u<r.length;u++)e(r[u]);var d=c;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";var i=n("64a9"),s=n.n(i);s.a},4184:function(t,e,n){"use strict";var i=n("8b4e"),s=n.n(i);s.a},"49df":function(t,e,n){"use strict";var i=n("e7e2"),s=n.n(i);s.a},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d");var i=n("2b0e"),s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("SearchLog"),n("SongCard")],1)},o=[],a={},r=a,c=(n("034f"),n("2877")),u=Object(c["a"])(r,s,o,!1,null,null,null),d=u.exports,l=n("6ee6"),p=n("2f62"),f=n("bc3a"),h=n.n(f);i["a"].use(p["a"]);var m="https://deezerdevs-deezer.p.rapidapi.com/",g=h.a.create({baseURL:m,withCredentials:!1,headers:{Accept:"application/json","Content-Type":"application/json","x-rapidapi-host":"deezerdevs-deezer.p.rapidapi.com","x-rapidapi-key":"6cd836535cmshdbf7a9ffa1c7eabp19e82bjsne539f53f3220"}}),v=new p["a"].Store({state:{songs:[],song:{id:561856792,readable:!0,title:"Always Remember Us This Way",title_short:"Always Remember Us This Way",title_version:"",link:"https://www.deezer.com/track/561856792",duration:210,rank:974069,explicit_lyrics:!1,explicit_content_lyrics:0,explicit_content_cover:1,preview:"https://cdns-preview-0.dzcdn.net/stream/c-0ed0308396f779b677c4d146c5eeb2a9-5.mp3",artist:{id:75491,name:"Lady Gaga",link:"https://www.deezer.com/artist/75491",picture:"https://api.deezer.com/artist/75491/image",picture_small:"https://e-cdns-images.dzcdn.net/images/artist/c467c1ffc64c8ef18467838c97f26014/56x56-000000-80-0-0.jpg",picture_medium:"https://e-cdns-images.dzcdn.net/images/artist/c467c1ffc64c8ef18467838c97f26014/250x250-000000-80-0-0.jpg",picture_big:"https://e-cdns-images.dzcdn.net/images/artist/c467c1ffc64c8ef18467838c97f26014/500x500-000000-80-0-0.jpg",picture_xl:"https://e-cdns-images.dzcdn.net/images/artist/c467c1ffc64c8ef18467838c97f26014/1000x1000-000000-80-0-0.jpg",tracklist:"https://api.deezer.com/artist/75491/top?limit=50",type:"artist"},album:{id:74434962,title:"A Star Is Born Soundtrack",cover:"https://api.deezer.com/album/74434962/image",cover_small:"https://e-cdns-images.dzcdn.net/images/cover/88a8288e14f61ffa39c14ac2ef9210d8/56x56-000000-80-0-0.jpg",cover_medium:"https://e-cdns-images.dzcdn.net/images/cover/88a8288e14f61ffa39c14ac2ef9210d8/250x250-000000-80-0-0.jpg",cover_big:"https://e-cdns-images.dzcdn.net/images/cover/88a8288e14f61ffa39c14ac2ef9210d8/500x500-000000-80-0-0.jpg",cover_xl:"https://e-cdns-images.dzcdn.net/images/cover/88a8288e14f61ffa39c14ac2ef9210d8/1000x1000-000000-80-0-0.jpg",tracklist:"https://api.deezer.com/album/74434962/tracks",type:"album"},type:"track"},totalSongs:0,volume:1,duration:1,current:0},mutations:{SET_SONGS:function(t,e){t.state;this.state.songs=e},SET_SONG:function(t,e){t.state;this.state.song=this.state.songs[e]},SET_TOTAL_SONGS:function(t,e){t.state;this.state.totalSongs=e},SET_VOLUME:function(t,e){t.state;this.state.volume=e},SET_DURATION:function(t,e){t.state;this.state.duration=e},SET_CURRENT:function(t,e){t.state;this.state.current=e}},actions:{searchSongs:function(t,e){var n=this;Object(l["a"])(t);var i=e.keywords,s=e.index;g.get("search?q=".concat(i,"&index=").concat(s)).then(function(t){n.commit("SET_SONGS",t.data.data),n.commit("SET_TOTAL_SONGS",t.data.total)}).catch(function(t){console.log(t)})},selectSong:function(t,e){Object(l["a"])(t),this.state.song=this.state.songs[e]}}}),_=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.isReady?n("div",{staticClass:"song-card"},[n("AudioControls"),n("h1",[t._v(t._s(t.title))]),n("p",[t._v("artist: "+t._s(t.artist.name))]),n("img",{attrs:{src:t.artist.picture_big,alt:""}})],1):t._e()},b=[],y={computed:{song:function(){return this.$store.state.song},title:function(){return this.song.title},artist:function(){return this.song.artist},isReady:function(){return!!this.song}},created:function(){}},S=y,x=(n("acaf"),Object(c["a"])(S,_,b,!1,null,"1bf51a6b",null)),w=x.exports,k=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:{hide:!1}},[n("audio",{attrs:{src:t.song.preview,id:"main-audio",loop:t.loop}}),t.isPaused?n("button",{on:{click:t.play}},[t._v("play")]):t._e(),t.isPaused?t._e():n("button",{on:{click:t.pause}},[t._v("pause")]),n("button",{on:{click:t.mute}},[t._v("muted:"+t._s(t.isMuted))]),n("button",{on:{click:function(e){t.loop=!t.loop}}},[t._v("loop? "+t._s(t.loop))]),n("button",{on:{click:function(e){t.toNextSong=!t.toNextSong}}},[t._v("next? "+t._s(t.toNextSong))]),n("ControlBar",{attrs:{bindAttri:"volume",barWidth:300}}),n("span",[t._v(":::")]),n("ControlBar",{attrs:{bindAttri:"current",barWidth:300}})],1)},T=[],E={data:function(){return{audio:void 0,isPaused:void 0,isMuted:void 0,loop:!0,canplay:!1,toNextSong:!1}},computed:{song:function(){return this.$store.state.song},volume:function(){return this.$store.state.volume},current:function(){return this.$store.state.current},duration:function(){return this.$store.state.duration}},watch:{volume:function(){this.audio.volume=this.volume},current:function(){Math.abs(this.current*this.duration-this.audio.currentTime)>.05&&(this.audio.currentTime=this.current*this.duration)},song:function(){this.initialize()}},methods:{initialize:function(){var t=this;this.isPaused=!0,this.audio.oncanplay=function(){t.$store.commit("SET_DURATION",t.audio.duration)}},mute:function(){this.audio.muted=!this.audio.muted,this.isMuted=!this.isMuted},play:function(){this.audio.play()},pause:function(){this.audio.pause()},updateCurrent:function(){this.$store.commit("SET_CURRENT",this.audio.currentTime/this.$store.state.duration)}},mounted:function(){var t=this,e=document.querySelector("#main-audio");this.audio=e,this.isPaused=e.paused,this.isMuted=e.muted,this.audio.addEventListener("canplay",function(){t.$store.commit("SET_DURATION",t.audio.duration),t.audio.autoplay=!0}),this.$store.commit("SET_VOLUME",this.audio.volume),this.audio.addEventListener("timeupdate",function(){t.canplay=!0,t.updateCurrent()}),this.audio.addEventListener("play",function(){t.isPaused=!1}),this.audio.addEventListener("pause",function(){t.isPaused=!0}),this.audio.addEventListener("ended",function(){t.toNextSong})}},O=E,j=(n("4184"),Object(c["a"])(O,k,T,!1,null,"430b94ea",null)),$=j.exports,z=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"container",style:t.containerStyle,on:{mousemove:t.drag,click:t.blink}},[n("div",{staticClass:"filled",style:t.filledStyle})])])},C=[],M=(n("c5f6"),{props:{bindAttri:{type:String,required:!0},barWidth:{type:Number,required:!1,default:150}},data:function(){return{}},computed:{percentage:function(){return this.$store.state[this.bindAttri]},filledStyle:function(){return{width:"".concat(this.percentage*this.barWidth,"px")}},containerStyle:function(){return{width:"".concat(this.barWidth,"px")}}},methods:{drag:function(t){if(1===t.buttons){var e=t.offsetX/this.barWidth;e>1&&(e=1),e<0&&(e=0),this.$store.commit("SET_".concat(this.bindAttri.toUpperCase()),e)}},blink:function(t){var e=t.offsetX/this.barWidth;e>1&&(e=1),e<0&&(e=0),this.$store.commit("SET_".concat(this.bindAttri.toUpperCase()),e)}}}),P=M,A=(n("e059"),Object(c["a"])(P,z,C,!1,null,"46562a16",null)),N=A.exports,L=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"search-log"},[n("button",{on:{click:t.toggleMenu}},[t._v("toggle menu")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.keywords,expression:"keywords"}],attrs:{type:"text"},domProps:{value:t.keywords},on:{input:function(e){e.target.composing||(t.keywords=e.target.value)}}}),n("button",{on:{click:t.search}},[t._v("search")]),n("span",[t._v(t._s(t.totalSongs)+" result")]),t.showMenu?n("ul",{staticClass:"menu"},[n("span",[t._v("showing "+t._s(25*t.page)+" to "+t._s(25*(t.page+1)))]),t.page>0?n("button",{on:{click:t.prevPage}},[t._v("prev")]):t._e(),25*(t.page+1)<t.totalSongs?n("button",{on:{click:t.nextPage}},[t._v("next")]):t._e(),t._l(t.songList,function(e,i){return n("li",{key:i,staticClass:"option",on:{click:function(e){return t.select(i)}}},[t._v(t._s(e.title))])})],2):t._e()])},R=[],U={data:function(){return{keywords:"",songIndex:0,page:0,showMenu:!0}},methods:{toggleMenu:function(){this.showMenu=!this.showMenu},nextPage:function(){this.page++,this.$store.dispatch("searchSongs",{keywords:this.keywords,index:25*this.page})},prevPage:function(){this.page--,this.$store.dispatch("searchSongs",{keywords:this.keywords,index:25*this.page})},search:function(){this.showMenu=!0,this.page=0,this.$store.dispatch("searchSongs",{keywords:this.keywords,index:25*this.page})},select:function(t){this.songIndex=t,this.$store.dispatch("selectSong",this.songIndex)}},computed:{songList:function(){return this.$store.state.songs},totalSongs:function(){return this.$store.state.totalSongs}}},W=U,I=(n("49df"),Object(c["a"])(W,L,R,!1,null,"542034be",null)),G=I.exports;i["a"].config.productionTip=!1,i["a"].component("SongCard",w),i["a"].component("AudioControls",$),i["a"].component("ControlBar",N),i["a"].component("SearchLog",G),new i["a"]({store:v,render:function(t){return t(d)}}).$mount("#app")},"64a9":function(t,e,n){},"76e4":function(t,e,n){},"8b4e":function(t,e,n){},acaf:function(t,e,n){"use strict";var i=n("76e4"),s=n.n(i);s.a},d738:function(t,e,n){},e059:function(t,e,n){"use strict";var i=n("d738"),s=n.n(i);s.a},e7e2:function(t,e,n){}});
//# sourceMappingURL=app.8518fbb6.js.map